#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
VKinder - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
–°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VK API –∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
"""

import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
load_dotenv()

# –¢–æ–∫–µ–Ω –≥—Ä—É–ø–ø—ã –í–ö–æ–Ω—Ç–∞–∫—Ç–µ (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)
VK_GROUP_TOKEN = os.getenv('VK_GROUP_TOKEN', 'YOUR_VK_GROUP_TOKEN_HERE')

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–æ–∫–µ–Ω (–¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—é–¥–µ–π —á–µ—Ä–µ–∑ users.search)
VK_USER_TOKEN = os.getenv('VK_USER_TOKEN', VK_GROUP_TOKEN)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DB_CONFIG = {
    'host': os.getenv('DB_HOST', 'localhost'),
    'port': int(os.getenv('DB_PORT', 5432)),
    'database': os.getenv('DB_NAME', 'vkinder'),
    'user': os.getenv('DB_USER', 'postgres'),
    'password': os.getenv('DB_PASSWORD', 'password')
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
SEARCH_CONFIG = {
    'count': int(os.getenv('SEARCH_COUNT', 100)),  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
    'age_range': int(os.getenv('AGE_RANGE', 5)),  # –î–∏–∞–ø–∞–∑–æ–Ω –≤–æ–∑—Ä–∞—Å—Ç–∞ ¬±
    'max_photos': int(os.getenv('MAX_PHOTOS', 3)),  # –ú–∞–∫—Å–∏–º—É–º —Ñ–æ—Ç–æ –¥–ª—è –ø–æ–∫–∞–∑–∞
    'min_photo_likes': int(os.getenv('MIN_PHOTO_LIKES', 1))  # –ú–∏–Ω–∏–º—É–º –ª–∞–π–∫–æ–≤ –¥–ª—è —Ñ–æ—Ç–æ
}

# –ì–æ—Ä–æ–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ (–∫–æ–¥—ã –≥–æ—Ä–æ–¥–æ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ)
# –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ ID —á–µ—Ä–µ–∑ database.getCities
CITIES = {
    '–º–æ—Å–∫–≤–∞': 1,
    '—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥': 2,
    '–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫': 99,
    '–µ–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥': 54,
    '–Ω–∏–∂–Ω–∏–π –Ω–æ–≤–≥–æ—Ä–æ–¥': 24,
    '–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫': 73,
    '—á–µ–ª—è–±–∏–Ω—Å–∫': 88,
    '–æ–º—Å–∫': 92,
    '—Å–∞–º–∞—Ä–∞': 51,
    '—Ä–æ—Å—Ç–æ–≤-–Ω–∞-–¥–æ–Ω—É': 49,
    '—É—Ñ–∞': 172,
    '–∫—Ä–∞—Å–Ω–æ—è—Äc–∫': 64,
    '–ø–µ—Ä–º—å': 50,
    '–≤–æ—Ä–æ–Ω–µ–∂': 193,
    '–≤–æ–ª–≥–æ–≥—Ä–∞–¥': 38,
    '—Å–∞—Ä–∞—Ç–æ–≤': 146,
    '–∫—Ä–∞—Å–Ω–æ–¥–∞—Ä': 35,
    '—Ç–æ–ª—å—è—Ç—Ç–∏': 9,
    '–∏–∂–µ–≤—Å–∫': 48,
    '—É–ª—å—è–Ω–æ–≤—Å–∫': 196,
    '–±–∞—Ä–Ω–∞—É–ª': 109,
    '–≤–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫': 60,
    '—è—Ä–æ—Å–ª–∞–≤–ª—å': 30,
    '–∏—Ä–∫—É—Ç—Å–∫': 63,
    '—Ç—é–º–µ–Ω—å': 104,
    '–º–∞—Ö–∞—á–∫–∞–ª–∞': 74,
    '—Ö–∞–±–∞—Ä–æ–≤—Å–∫': 84,
    '–æ—Ä–µ–Ω–±—É—Ä–≥': 98,
    '–Ω–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫': 108,
    '–∫–µ–º–µ—Ä–æ–≤–æ': 79,
    '—Ä—è–∑–∞–Ω—å': 52,
    '—Ç–æ–º—Å–∫': 103,
    '–∞—Å—Ç—Ä–∞—Ö–∞–Ω—å': 77,
    '–ø–µ–Ω–∑–∞': 58,
    '–Ω–∞–±–µ—Ä–µ–∂–Ω—ã–µ —á–µ–ª–Ω—ã': 559,
    '–ª–∏–ø–µ—Ü–∫': 75,
    '—Ç—É–ª–∞': 15,
    '–∫–∏—Ä–æ–≤': 41,
    '—á–µ–±–æ–∫—Å–∞—Ä—ã': 45,
    '–∫–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥': 22,
    '–±—Ä—è–Ω—Å–∫': 137,
    '–∫—É—Ä—Å–∫': 147,
    '–∏–≤–∞–Ω–æ–≤–æ': 97,
    '–º–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫': 95,
    '—Ç–≤–µ—Ä—å': 14,
    '—Å—Ç–∞–≤—Ä–æ–ø–æ–ª—å': 36,
    '–Ω–∏–∂–Ω–∏–π —Ç–∞–≥–∏–ª': 91,
    '–±–µ–ª–≥–æ—Ä–æ–¥': 4,
    '–∞—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫': 13,
    '–≤–ª–∞–¥–∏–º–∏—Ä': 192,
    '—Å–æ—á–∏': 151,
    '–∫—É—Ä–≥–∞–Ω': 90,
    '—Å–º–æ–ª–µ–Ω—Å–∫': 12,
    '–∫–∞–ª—É–≥–∞': 62,
    '—á–∏—Ç–∞': 107,
    '–æ—Ä—ë–ª': 10,
    '–≤–æ–ª–∂—Å–∫–∏–π': 76,
    '—á–µ—Ä–µ–ø–æ–≤–µ—Ü': 127,
    '–≤–ª–∞–¥–∏–∫–∞–≤–∫–∞–∑': 81,
    '–º—É—Ä–º–∞–Ω—Å–∫': 23,
    '—Å—É—Ä–≥—É—Ç': 110,
    '–≤–æ–ª–æ–≥–¥–∞': 21,
    '—Å–∞—Ä–∞–Ω—Å–∫': 80,
    '—Ç–∞–º–±–æ–≤': 106,
    '—Å—Ç–µ—Ä–ª–∏—Ç–∞–º–∞–∫': 157,
    '–≥—Ä–æ–∑–Ω—ã–π': 72,
    '—è–∫—É—Ç—Å–∫': 87,
    '–∫–æ—Å—Ç—Ä–æ–º–∞': 40,
    '–∫–æ–º—Å–æ–º–æ–ª—å—Å–∫-–Ω–∞-–∞–º—É—Ä–µ': 142,
    '–ø–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫': 28,
    '—Ç–∞–≥–∞–Ω—Ä–æ–≥': 37,
    '–Ω–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫': 86,
    '–π–æ—à–∫–∞—Ä-–æ–ª–∞': 46,
    '–±—Ä–∞—Ç—Å–∫': 96,
    '–Ω–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫': 71,
    '–¥–∑–µ—Ä–∂–∏–Ω—Å–∫': 123,
    '—à–∞—Ö—Ç—ã': 83,
    '–Ω–∞–ª—å—á–∏–∫': 69,
    '–æ—Ä—Å–∫': 138,
    '—Å—ã–∫—Ç—ã–≤–∫–∞—Ä': 42,
    '–Ω–∏–∂–Ω–µ–∫–∞–º—Å–∫': 133,
    '–∞–Ω–≥–∞—Ä—Å–∫': 141,
    '—Å—Ç–∞—Ä—ã–π –æ—Å–∫–æ–ª': 65,
    '–≤–µ–ª–∏–∫–∏–π –Ω–æ–≤–≥–æ—Ä–æ–¥': 8,
    '–±–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫': 140,
    '–ø—Ä–æ–∫–æ–ø—å–µ–≤—Å–∫': 158,
    '–±–∏–π—Å–∫': 119,
    '–ø—Å–∫–æ–≤': 25,
    '—ç–Ω–≥–µ–ª—å—Å': 131,
    '—Ä—ã–±–∏–Ω—Å–∫': 126,
    '–±–∞–ª–∞–∫–æ–≤–æ': 124,
    '—Å–µ–≤–µ—Ä–æ–¥–≤–∏–Ω—Å–∫': 125,
    '–∞—Ä–º–∞–≤–∏—Ä': 135,
    '–ø–æ–¥–æ–ª—å—Å–∫': 82,
    '–∫–æ—Ä–æ–ª—ë–≤': 67,
    '—é–∂–Ω–æ-—Å–∞—Ö–∞–ª–∏–Ω—Å–∫': 68,
    '–ø–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–∫–∞–º—á–∞—Ç—Å–∫–∏–π': 89,
    '—Å—ã–∑—Ä–∞–Ω—å': 136,
    '–Ω–æ—Ä–∏–ª—å—Å–∫': 113,
    '–∑–ª–∞—Ç–æ—É—Å—Ç': 129,
    '–º—ã—Ç–∏—â–∏': 70,
    '–ª—é–±–µ—Ä—Ü—ã': 66,
    '–∫–∞–º–µ–Ω—Å–∫-—É—Ä–∞–ª—å—Å–∫–∏–π': 130,
    '—ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–ª—å': 153,
    '—Å–∞–ª–∞–≤–∞—Ç': 134,
    '–∞–ª–º–µ—Ç—å–µ–≤—Å–∫': 139,
    '–Ω–æ–≤–æ—á–µ—Ä–∫–∞—Å—Å–∫': 143,
    '—Å–µ—Ä–ø—É—Ö–æ–≤': 163,
    '—â—ë–ª–∫–æ–≤–æ': 144,
    '–ø–µ—Ä–≤–æ—É—Ä–∞–ª—å—Å–∫': 148,
    '–æ–¥–∏–Ω—Ü–æ–≤–æ': 145,
    '–Ω–µ—Ñ—Ç–µ–∫–∞–º—Å–∫': 149,
    '–Ω–µ—Ñ—Ç–µ—é–≥–∞–Ω—Å–∫': 152,
    '—É—Å—Å—É—Ä–∏–π—Å–∫': 160,
    '–∫–æ–≤—Ä–æ–≤': 161,
    '–±–µ—Ä–µ–∑–Ω–∏–∫–∏': 162,
    '–Ω–æ–≤–æ—á–µ–±–æ–∫—Å–∞—Ä—Å–∫': 165,
    '–º–∞–π–∫–æ–ø': 55,
    '–µ–ª–∞–±—É–≥–∞': 292,  # –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π ID –ï–ª–∞–±—É–≥–∏
    '–∞–ª—å–º–µ—Ç—å–µ–≤—Å–∫': 139,
    '–±—É–≥—É–ª—å–º–∞': 302,
    '–ª–µ–Ω–∏–Ω–æ–≥–æ—Ä—Å–∫': 304,
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOGGING_CONFIG = {
    'level': os.getenv('LOG_LEVEL', 'INFO'),
    'file': os.getenv('LOG_FILE', 'vkinder.log'),
    'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
}

# –°–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞
MESSAGES = {
    'welcome': """üëã –ü—Ä–∏–≤–µ—Ç! –Ø VKinder - –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—é–¥–µ–π –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤!

‚ú® –ß—Ç–æ —è —É–º–µ—é:
‚Ä¢ –ò—Å–∫–∞—Ç—å –ª—é–¥–µ–π –ø–æ –≤–∞—à–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª–µ–π  
‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
‚Ä¢ –î–æ–±–∞–≤–ª—è—Ç—å –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ:""",

    'search_start': "üîç –ò—â—É –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ª—é–¥–µ–π –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞...",
    'search_empty': "üòî –ù–µ –Ω–∞—à–µ–ª –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    'search_complete': "üéâ –í—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ª—é–¥–µ–π!",

    'added_to_favorites': "‚ù§Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!",
    'added_to_blacklist': "üëé –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫",
    'already_in_favorites': "‚ùå –£–∂–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º",

    'favorites_empty': "üíî –í–∞—à —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç.",
    'favorites_cleared': "üóëÔ∏è –°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –æ—á–∏—â–µ–Ω!",

    'error': "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    'unknown_command': "ü§î –ù–µ –ø–æ–Ω–∏–º–∞—é –∫–æ–º–∞–Ω–¥—É. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é:"
}

# –°—Ç–∞—Ç—É—Å—ã –æ—Ç–Ω–æ—à–µ–Ω–∏–π –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
RELATION_STATUS = {
    1: '–Ω–µ –∂–µ–Ω–∞—Ç/–Ω–µ –∑–∞–º—É–∂–µ–º',
    2: '–µ—Å—Ç—å –¥—Ä—É–≥/–µ—Å—Ç—å –ø–æ–¥—Ä—É–≥–∞',
    3: '–ø–æ–º–æ–ª–≤–ª–µ–Ω/–ø–æ–º–æ–ª–≤–ª–µ–Ω–∞',
    4: '–∂–µ–Ω–∞—Ç/–∑–∞–º—É–∂–µ–º',
    5: '–≤—Å—ë —Å–ª–æ–∂–Ω–æ',
    6: '–≤ –∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–∏—Å–∫–µ',
    7: '–≤–ª—é–±–ª—ë–Ω/–≤–ª—é–±–ª–µ–Ω–∞',
    8: '–≤ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–º –±—Ä–∞–∫–µ'
}

# –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ (–Ω–µ–∑–∞–Ω—è—Ç—ã–µ)
PREFERRED_STATUSES = [1, 5, 6, 7]  # –Ω–µ –∂–µ–Ω–∞—Ç, –≤—Å—ë —Å–ª–æ–∂–Ω–æ, –≤ –ø–æ–∏—Å–∫–µ, –≤–ª—é–±–ª—ë–Ω

# –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
VERSION = '1.0.0'

# API –≤–µ—Ä—Å–∏—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
VK_API_VERSION = '5.131'